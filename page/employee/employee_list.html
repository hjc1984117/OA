<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
    <!--<![endif]-->
    <head>
        <meta charset="utf-8"/>
        <title>星密码OA管理系统-人员列表</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
        <meta content="" name="description"/>
        <meta content="" name="author"/>
        <link href="../../assets/global/plugins/jquery-ui/jquery-ui-1.10.3.custom.min.css" rel="stylesheet" type="text/css">
        <link href="../../assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
        <link href="../../assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css"/>
        <link href="../../assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <!-- END GLOBAL MANDATORY STYLES -->
        <link rel="stylesheet" type="text/css" href="../../assets/global/plugins/bootstrap-datepicker/css/datepicker3.css">
        <link rel="stylesheet" type="text/css" href="../../assets/global/plugins/bootstrap-toastr/toastr.min.css">
        <link rel="stylesheet" type="text/css" href="../../assets/global/plugins/jstree/dist/themes/default/style.min.css">
        <link rel="stylesheet" type="text/css" href="../../assets/global/plugins/bootstrap-select/bootstrap-select.min.css">
        <!-- BEGIN THEME STYLES -->
        <link href="../../assets/local/css/components.css" rel="stylesheet" type="text/css"/>
        <link href="../../assets/local/css/plugins.css" rel="stylesheet" type="text/css"/>
        <link href="../../assets/local/css/base.css" rel="stylesheet" type="text/css"/>
        <!-- END THEME STYLES -->
        <link rel="shortcut icon" href="../../assets/global/img/favicon.ico"/>
    </head>
    <body style="background: #ffffff;margin: 0px;padding: 0px;">
        <div class="modal fade bs-example-modal-lg" id="myModal" tabindex="-1" role="dialog" aria-hidden="false">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">添加员工信息</h4>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-success">
                            <span style="color: red;">*</span>注:   带有"<span style="color: red;">*</span>"的字段为必填项
                        </div>
                        <form id="add_employee_form" class="form-horizontal" novalidate="novalidate">
                            <div class="form-body">
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="employee_no">员工编号<span class="required">*</span></label>
                                    <div class="col-md-3">
                                        <div class="input-icon right">
                                            <i class="fa"></i>
                                            <input type="text" class="form-control" name="employee_no" id="employee_no" placeholder="员工编号" aria-required="true" aria-invalid="false"/>
                                        </div>
                                    </div>
                                    <label class="control-label col-md-2" for="truename">真实姓名<span class="required">*</span></label>
                                    <div class="col-md-3">
                                        <div class="input-icon right">
                                            <i class="fa"></i>
                                            <input type="text" class="form-control" name="truename" id="truename" placeholder="真实姓名" aria-required="true" aria-invalid="false"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="nickname">花名<span class="required">*</span></label>
                                    <div class="col-md-3">
                                        <div class="input-icon right">
                                            <i class="fa"></i>
                                            <input type="text" class="form-control" name="nickname" id="nickname" placeholder="花名"/>
                                        </div>
                                    </div>
                                    <label class="control-label col-md-2" for="sex_div">性别</label>
                                    <div class="col-md-3">
                                        <div style="line-height: 34px;" id="sex_div">
                                            <label><input type="radio" name="sex" id="sex1" value="1" placeholder="性别" checked=""> 男 </label>
                                            <label><input type="radio" name="sex" id="sex0" placeholder="性别" value="0"> 女 </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="age">年龄</label>
                                    <div class="col-md-3 popovers" data-trigger="hover" data-placement="top" data-content="输入生日后,系统将自动计算~" data-original-title="温馨提示~">
                                        <input type="text" class="form-control" name="age" readonly="" id="age" placeholder="年龄"/>
                                    </div>
                                    <label class="control-label col-md-2" for="birthday">生日</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control date-picker-bind-mouseover" readonly="" t='1' data-date-format="yyyy-mm-dd" name="birthday" id="birthday" placeholder="生日"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="dept1_text">所属部门</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control " name="dept1_text" id="dept1_text" placeholder="所属部门" readonly=""/>
                                        <input type="hidden" placeholder="所属部门" name="dept1_id" id="dept1_id"/>
                                    </div>
                                    <label class="control-label col-md-2" for="role_text">职位名称</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" name="role_text" id="role_text" placeholder="职位名称" readonly=""/>
                                        <input type="hidden" placeholder="职位名称" name="role_id" id="role_id"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="phone">联系电话<span class="required">*</span></label>
                                    <div class="col-md-3">
                                        <div class="input-icon right">
                                            <i class="fa"></i>
                                            <input type="text" class="form-control" name="phone" id="phone" placeholder="联系电话" aria-required="true" aria-invalid="true"/>
                                        </div>
                                    </div>
                                    <label class="control-label col-md-2" for="qq">QQ</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" name="qq" id="qq" placeholder="QQ"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="idcard">身份证号码<span class="required">*</span></label>
                                    <div class="col-md-3">
                                        <div class="input-icon right">
                                            <i class="fa"></i>
                                            <input type="text" class="form-control" name="idcard" id="idcard" placeholder="身份证号码" aria-required="true" aria-invalid="true"/>
                                        </div>
                                    </div>
                                    <label class="control-label col-md-2" for="join_time">入职时间<span class="required">*</span></label>
                                    <div class="col-md-3">
                                        <div class="input-icon right">
                                            <i class="fa"></i>
                                            <input type="text" class="form-control date-picker-bind-mouseover" readonly="" data-date-format="yyyy-mm-dd" name="join_time" id="join_time"  placeholder="入职时间"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="positive_time">转正时间</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control date-picker-bind-mouseover" readonly="" data-date-format="yyyy-mm-dd" name="positive_time" id="positive_time" placeholder="转正时间"/>
                                    </div>
                                    <label class="control-label col-md-2" for="leave_time">离职时间</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control date-picker-bind-mouseover" readonly="" data-date-format="yyyy-mm-dd" name="leave_time" id="leave_time" placeholder="离职时间"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="emergency_contact">紧急联系人及关系</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" name="emergency_contact" id="emergency_contact" placeholder="紧急联系人及关系"/>
                                    </div>
                                    <label class="control-label col-md-2" for="emergency_phone">紧急联系人电话</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" name="emergency_phone" id="emergency_phone" placeholder="紧急联系人电话"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="address">住址</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" name="address" id="address" placeholder="住址"/>
                                    </div>
                                    <label class="control-label col-md-2" for="hukou">户口性质</label>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" name="hukou" id="hukou" placeholder="户口性质"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="status_div">状态</label>
                                    <div class="col-md-4">
                                        <div style="line-height: 34px;" id="status_div">
                                            <label><input type="radio" name="status" id="status1" placeholder="状态" value="1" checked=""> 正式 </label>
                                            <label><input type="radio" name="status" id="status2" placeholder="状态" value="2"> 试用 </label>
                                            <label><input type="radio" name="status" id="status3" placeholder="状态" value="3"> 离职 </label>
                                            <label><input type="radio" name="status" id="status4" placeholder="状态" value="4"> 停薪留职 </label>
                                        </div>
                                    </div>
                                    <label class="control-label col-md-2" for="status_div">是否提交离职证明</label>
                                    <div class="col-md-4">
                                        <div style="line-height: 34px;">
                                            <label><input type="radio" name="quitProve" id="quitProve1" placeholder="是否提交离职证明" value="1"> 是 </label>
                                            <label><input type="radio" name="quitProve" id="quitProve2" placeholder="是否提交离职证明" value="0"> 否 </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-2" for="remark">备注</label>
                                    <div class="col-md-8">
                                        <textarea class="form-control" name="remark" id="remark" placeholder="备注" ></textarea>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="btn_submit_primary">保存</button>
                        <button type="button" class="btn btn-default" id="btn_close_primary" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="page-bar">
            <ul class="page-breadcrumb">
                <li><i class="fa fa-home"></i><a href="#">Home</a><i class="fa fa-angle-right"></i></li>
                <li><a href="#">员工档案管理</a><i class="fa fa-angle-right"></i></li>
                <li><a href="#">员工资料</a></li>
            </ul>
        </div>
        <div class="permit_buttons">
            <button type="button" id="open_dialog_btn" class="btn red-sunglo permit_1010101" data-toggle="modal" data-target="#myModal"><i class="fa fa-plus"></i>添加员工</button>
            <button type="button" id="outexcel" class="btn red-sunglo permit_1010106"><i class="glyphicon glyphicon-arrow-down"></i>导出EXCEL</button>
        </div>
        <div class="col-md-12">
            <div class="portlet box red-sunglo">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="icon-users" ></i>
                        员工信息
                    </div>
                </div>
                <div class="portlet-body" >
                    <table class="table table-hover" id="dataTable">
                        <thead>
                            <tr>
                                <th>
                                    <input type="checkbox" class="checkbox" id="checkall">
                                </th>
                                <th sort='employee_no'>员工编号</th>
                                <th sort='truename'>真实姓名</th>
                                <th sort='nickname'>花名</th>
                                <th>所属部门</th>
                                <th>职位</th>
                                <th>联系电话</th>
                                <th>身份证号</th>
                                <th sort='join_time'>入职时间</th>
                                <th sort='birthday'>生日</th>
                                <th sort='sex'>性别</th>
                                <th sort='status'>状态</th>
                                <th>#</th>
                            </tr>
                        </thead>
                        <tbody data-bind="foreach:employeeList">
                            <tr>
                                <td>
                                    <input type="checkbox" class="checkbox" data-bind="value:userid">
                                </td>
                                <td data-bind="text:employee_no"></td>
                                <td data-bind="text:truename"></td>
                                <td data-bind="text:nickname"></td>
                                <td data-bind="text:dept1_text,attr:{'dept1_id':dept1_id}"></td>
                                <!--<td data-bind="text:dept2_text,attr:{'dept2_id':dept2_id}"></td>-->
                                <td data-bind="text:role_text,attr:{'role_id':role_id}"></td>
                                <td data-bind="text:phone"></td>
                                <td data-bind="text:idcard"></td>
                                <td data-bind="text:join_time"></td>
                                <td data-bind="text:birthday"></td>
                                <td data-bind="text:sex_text"></td>
                                <td>
                                    <span data-bind="if:status==1" class="label label-success">正式</span>
                                    <span data-bind="if:status==2" class="label label-info">试用</span>
                                    <span data-bind="if:status==3" class="label label-danger">离职</span>
                                    <span data-bind="if:status==4" class="label label-warning">停薪留职</span>
                                </td>
                                <td>
                                    <!-- ko if:edit-->
                                    <span data-bind="click:$root.editEmployee,attr:{'val':userid}" aria-hidden="true" class="icon-note data_list_div" style="cursor: pointer;margin-left: 10px;" title="编辑"></span>
                                    <div class="dataLog_detail" data-bind="attr:{'id':'dataLog_detail_'+userid}">
                                        <img src="../../assets/global/img/input-spinner.gif" style="margin-top: 130px">
                                    </div>
                                    <!-- /ko -->
                                    <!-- ko if:show-->
                                    <span data-bind="click:$root.showEmployee" aria-hidden="true" class="icon-magnifier" style="cursor: pointer;margin-left: 10px;" title="查看"></span>
                                    <!-- /ko -->
                                    <!-- ko if:dele-->
                                    <span data-bind="click:$root.delEmployee" aria-hidden="true" class="icon-trash" style="cursor: pointer; margin-left: 5px;" title="删除"></span>
                                    <!-- /ko -->
                                    <!-- ko if:reSetPassword-->
                                    <span data-bind="click:$root.reSetPassword" aria-hidden="true" class="icon-lock-open" style="cursor: pointer; margin-left: 5px;" title="重置密码"></span>
                                    <!-- /ko -->
                                </td>
                            </tr>
                            <tr style="display: none;" class="second_tr" data-bind="attr:{'id':'tr_'+userid}">
                                <td colspan="2"></td>
                                <td colspan="8">
                                    <form data-bind="attr:{'id':'form_'+userid}">
                                        <table class="table second_table">
                                            <tr>
                                                <th>员工编号:</th>
                                                <td>
                                                    <input type="text" class="form-control" name="employee_no" id="employee_no" placeholder="员工编号" data-bind="value:employee_no"/>
                                                    <input type="hidden" name="userid" id="userid" data-bind="value:userid"/>
                                                </td>
                                                <th>真实姓名:</th>  
                                                <td><input type="text" class="form-control" name="truename" id="truename" placeholder="真实姓名" data-bind="value:truename"/></td>
                                                <th>花名:</th>  
                                                <td><input type="text" class="form-control" name="nickname" id="nickname" placeholder="昵称" data-bind="value:nickname"/></td>
                                            </tr>
                                            <tr>
                                                <th>性别:</th>
                                                <td>
                                                    <div style="float: left;">
                                                        <label><input data-bind="checked:sex" type="radio" name="sex" id="sex1" value="1"> 男 </label>
                                                        <label><input data-bind="checked:sex" type="radio" name="sex" id="sex0" value="0"> 女 </label>
                                                    </div>
                                                </td>
                                                <th>所属部门:</th>
                                                <td>
                                                    <input type="text" class="form-control" readonly="" name="dept1_text" id="dept1_text" placeholder="所属部门" data-bind="value:dept1_text"/>
                                                    <input type="hidden" name="dept1_id" id="dept1_id" data-bind="value:dept1_id"/>
                                                </td>
                                                <th>职位:</th>
                                                <td>
                                                    <input type="text" class="form-control" readonly="" name="role_text" id="role_text" placeholder="职位名称" data-bind="value:role_text"/>
                                                    <input type="hidden" name="role_id" id="role_id" data-bind="value:role_id"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>联系电话:</th>
                                                <td>
                                                    <input type="text" class="form-control" name="phone" id="phone" placeholder="联系电话" data-bind="value:phone"/>
                                                </td>
                                                <th>QQ:</th>
                                                <td>
                                                    <input type="text" class="form-control" name="qq" id="qq" placeholder="qq" data-bind="value:qq"/>
                                                </td>
                                                <th>年龄:</th>
                                                <td>
                                                    <input type="text" class="form-control" readonly="" name="age" id="age" placeholder="年龄" data-bind="value:age"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>身份证号码:</th>
                                                <td>
                                                    <input type="text" class="form-control" name="idcard" id="idcard" placeholder="身份证号码" data-bind="value:idcard"/>
                                                </td>
                                                <th>生日:</th>
                                                <td>
                                                    <input type="text" class="form-control date-picker-bind-mouseover" t='2' data-date-format="yyyy-mm-dd" name="birthday" id="birthday" readonly="" placeholder="生日" data-bind="value:birthday"/>
                                                </td>   
                                                <th>入职时间:</th>
                                                <td>
                                                    <input type="text" class="form-control date-picker-bind-mouseover" data-date-format="yyyy-mm-dd" name="join_time" id="join_time"  readonly="" placeholder="入职时间" data-bind="value:join_time"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>转正时间:</th>
                                                <td>
                                                    <input type="text" class="form-control date-picker-bind-mouseover" data-date-format="yyyy-mm-dd" name="positive_time" id="positive_time"  readonly="" placeholder="转正时间" data-bind="value:positive_time"/>
                                                </td>
                                                <th>离职时间:</th>
                                                <td>
                                                    <input type="text" class="form-control date-picker-bind-mouseover" data-date-format="yyyy-mm-dd" name="leave_time" id="leave_time"  readonly="" placeholder="离职时间" data-bind="value:leave_time"/>
                                                </td>
                                                <th>住址:</th>
                                                <td>    
                                                    <input type="text" class="form-control" name="address" id="address" placeholder="住址" data-bind="value:address"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>户口性质:</th>
                                                <td>
                                                    <input type="text" class="form-control" name="hukou" id="hukou" placeholder="户口性质" data-bind="value:hukou"/>
                                                </td>
                                                <th>状态:</th>
                                                <td>
                                                    <div style="float: left;">
                                                        <label><input type="radio" name="status" id="status1" value="1" data-bind="checked:status"> 正式 </label>
                                                        <label><input type="radio" name="status" id="status2" value="2" data-bind="checked:status"> 试用 </label>
                                                        <label><input type="radio" name="status" id="status3" value="3" data-bind="checked:status"> 离职 </label>
                                                        <label><input type="radio" name="status" id="status4" value="4" data-bind="checked:status"> 停薪留职 </label>
                                                    </div>
                                                </td>
                                                <th>紧急联系人及关系:</th>
                                                <td>
                                                    <input type="text" class="form-control" name="emergency_contact" id="emergency_contact" placeholder="紧急联系人及关系" data-bind="value:emergency_contact"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>紧急联系人电话:</th>
                                                <td>
                                                    <input type="text" class="form-control" name="emergency_phone" id="emergency_phone" placeholder="紧急联系人电话" data-bind="value:emergency_phone"/>
                                                </td>
                                                <th>是否提交离职证明:</th>
                                                <td colspan="3">
                                                    <div style="float: left;">
                                                        <label><input type="radio" name="quitProve" id="quitProve1" placeholder="是否提交离职证明" value="1" data-bind="checked:quitProve+''"> 是 </label>
                                                        <label><input type="radio" name="quitProve" id="quitProve2" placeholder="是否提交离职证明" value="0" data-bind="checked:quitProve+''"> 否 </label>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th>备注:</th>
                                                <td colspan="5">
                                                    <textarea class="form-control" name="remark" id="remark" placeholder="备注" data-bind="text:remark"></textarea>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="6">
                                                    <button type="button" class="btn btn-primary submit_btn dept_submit_btn" style="display: none;" data-bind="attr:{'id':'submit_'+userid,'val':userid}">提交</button>
                                                    <button type="button" class="btn btn-info cancel_btn" style="display: none;" data-bind="attr:{'id':'cancel_'+userid},click:$root.cancelTr">取消</button>
                                                </td>
                                            </tr>
                                        </table>
                                    </form>
                                </td>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                    </table>
                    <div id="paging-container"></div>
                </div>
            </div>
        </div>
        <script src="../../assets/global/plugins/jquery-1.11.0.min.js" type="text/javascript"></script>
        <script src="../../assets/global/plugins/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
        <script src="../../assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
        <script src="../../assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
        <script src="../../assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>

        <script src="../../assets/global/plugins/bootbox/bootbox.min.js" type="text/javascript"></script>
        <script src="../../assets/global/plugins/jquery-ui/jquery-ui-1.10.3.custom.min.js" type="text/javascript"></script>
        <script src="../../assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js" type="text/javascript"></script>
        <script src="../../assets/global/plugins/jquery-validation/js/jquery.validate.min.js" type="text/javascript"></script>
        <script src="../../assets/global/plugins/jquery-validation/js/additional-methods.min.js" type="text/javascript"></script>
        <script src="../../assets/global/plugins/bootstrap-toastr/toastr.min.js" type="text/javascript"></script>
        <script src="../../assets/global/plugins/jstree/dist/jstree.min.js"></script>
        <script src="../../assets/local/plugins/json.js" type="text/javascript"></script>
        <script src="../../assets/local/plugins/base64encode.js" type="text/javascript"></script>
        <script src="../../assets/local/knockout/knockout-3.1.0.js" type="text/javascript"></script>
        <script>
            document.write("<script src='../../assets/local/ycoa.js?ts=" + Math.random() + "' type='text/javascript'></\script>");
            document.write("<script src='../../assets/local/employee/employee.js?ts=" + Math.random() + "' type='text/javascript'></\script>");
            document.write("<script src='../../assets/local/employee/employee-form-validate.js?ts=" + Math.random() + "' type='text/javascript'></\script>");
        </script>
        <!--<script src="../../assets/local/ycoa.js" type="text/javascript"></script>-->
        <!--<script src="../../assets/local/employee/employee.js" type="text/javascript"></script>-->
        <!--<script src="../../assets/local/employee/employee-form-validate.js" type="text/javascript"></script>-->
        <script src="../../assets/local/basePermit.js" type="text/javascript"></script>
    </body>
</html>